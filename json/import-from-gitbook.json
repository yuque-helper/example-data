{
  "title": "从 GitBook 仓库 / GitLab Wiki 导入到语雀",
  "slug": 576406,
  "body_html": "<div data-type=\"p\">语雀可以支持从 GitBook 仓库 / GitLab Wiki 直接导入数据了哦！</div><div data-type=\"p\"></div><blockquote><div data-type=\"p\">👹 NOTE: 想反过来，将语雀的数据导出到 GitBook，请阅读：<a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"export-to-gitbook\" class=\"bi-link\">导出语雀文档为 GitBook 格式的本地文件</a></div></blockquote><div data-type=\"p\"></div><h2 id=\"pw07ru\" data-type=\"h\"><a class=\"anchor\" id=\"功能特点\" href=\"#pw07ru\"></a>功能特点</h2><div data-type=\"p\"></div><ul data-type=\"unordered-list\"><li data-type=\"list-item\" data-list-type=\"unordered-list\"><div data-type=\"p\">完整支持从 GitBook 迁移到语雀，支持 <code>SUMMARY.md</code> 变为语雀的自定义目录；</div></li><li data-type=\"list-item\" data-list-type=\"unordered-list\"><div data-type=\"p\">支持从 GitLab Wiki 导入到语雀（需要自行编辑目录），请确定 GitLab Wiki 上的内容是 Markdown 编写，并且能在 GitLab Wiki 上正确浏览；</div></li><li data-type=\"list-item\" data-list-type=\"unordered-list\"><div data-type=\"p\">理论上支持任意类型的 Git 仓库（里面含有 <code>*.md</code>, <code>*.markdown</code> 文件的）导入到语雀；</div></li><li data-type=\"list-item\" data-list-type=\"unordered-list\"><div data-type=\"p\">只支持 Markdown 的文档迁移，其他格式暂时不行。</div></li></ul><div data-type=\"p\"></div><div data-type=\"p\"><strong>几个已经导入好的例子</strong></div><div data-type=\"p\"></div><ul data-type=\"unordered-list\"><li data-type=\"list-item\" data-list-type=\"unordered-list\"><div data-type=\"p\"><a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://yuque.com/opensource-books/crystal-book\" class=\"bi-link\">Crystal Book</a></div></li><li data-type=\"list-item\" data-list-type=\"unordered-list\"><div data-type=\"p\"><a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://yuque.com/opensource-books/trpl-zh-cn\" class=\"bi-link\">Rust 程序设计语言</a></div></li></ul><div data-type=\"p\"></div><h2 id=\"sadaod\" data-type=\"h\"><a class=\"anchor\" id=\"安装\" href=\"#sadaod\"></a>安装</h2><h3 id=\"69ruhh\" data-type=\"h\"><a class=\"anchor\" id=\"macos-安装\" href=\"#69ruhh\"></a>macOS 安装</h3><div data-type=\"p\"></div><div data-type=\"p\">我们开发了一个叫 <strong>gitbook2lark</strong> 的小工具，可以方便你导入数据到语雀。</div><div data-type=\"p\"></div><div data-type=\"p\">确保你的 macOS 已经安装了 <a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://brew.sh/\" class=\"bi-link\">Homebrew</a>，然后使用 <a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://brew.sh/\" class=\"bi-link\">Homebrew</a> 安装 gitbook2lark</div><div data-type=\"p\"></div><pre data-syntax=\"bash\"><code class=\"language-bash\">$ brew update\n$ brew tap yuque/homebrew https://github.com/yuque/homebrew.git\n$ brew install gitbook2lark\n\nUpdating Homebrew...\n==&gt; Installing gitbook2lark yuque/homebrew\n==&gt; Downloading https://github.com/yuque/gitbook2lark/releases/download/0.3.0/gitbook2lark-darwin-amd64.zip\n######################################################################## 100.0%\n🍺  /usr/local/Cellar/gitbook2lark/0.3.0: 3 files, 726.3KB, built in 1 second\n</code></pre><div data-type=\"p\"></div><div data-type=\"p\">于是你就有了 <strong>gitbook2lark</strong> 工具了。</div><div data-type=\"p\"></div><h3 id=\"ixvxbw\" data-type=\"h\"><a class=\"anchor\" id=\"windows-安装\" href=\"#ixvxbw\"></a>Windows 安装</h3><div data-type=\"p\"><a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://github.com/yuque/gitbook2lark/releases\" class=\"bi-link\">https://github.com/yuque/gitbook2lark/releases</a></div><div data-type=\"p\"></div><div data-type=\"p\">下载并解压获得 gitbook2lark.exe，请启动 CMD 来执行，这个程序是一个命令行工具。</div><div data-type=\"p\"></div><h3 id=\"nri8ck\" data-type=\"h\"><a class=\"anchor\" id=\"linux-安装\" href=\"#nri8ck\"></a>Linux 安装</h3><div data-type=\"p\"><a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://github.com/yuque/gitbook2lark/releases\" class=\"bi-link\">https://github.com/yuque/gitbook2lark/releases</a></div><div data-type=\"p\"></div><div data-type=\"p\">下载并解压，将 <code>gitbook2lark</code> 放入 <code>/usr/local/bin/</code> 下</div><div data-type=\"p\"></div><h2 id=\"oendop\" data-type=\"h\"><a class=\"anchor\" id=\"使用方法\" href=\"#oendop\"></a>使用方法</h2><div data-type=\"p\"></div><div data-type=\"p\">在使用前，请适当看一下 gitbook2lark (Windows 用户是 gitbook2lark.exe)的帮助信息：</div><div data-type=\"p\"></div><pre data-syntax=\"bash\"><code class=\"language-bash\">$ gitbook2lark -h\nNAME:\n   gitbook2lark - 将 GitBook 的仓库导入到语雀的文档仓库里面。\n\nUSAGE:\n   gitbook2lark [global options] command [command options] [arguments...]\n\nVERSION:\n   0.3.0\n\nCOMMANDS:\n     help, h  Shows a list of commands or help for one command\n\nGLOBAL OPTIONS:\n   --host value              目标空间域名，不同企业空间需要设定域名，默认: https://yuque.com\n   --token value, -t value   你的语雀个人账号私钥，或配置环境变量 LARK_TOKEN [$LARK_TOKEN]\n   --source value, -s value  GitBook 源的 Git 仓库 URL 地址, 例如: https://github.com/foo/bar.git\n   --output value, -o value  需要导入的目标仓库的路径，例如: lark/help\n   --help, -h                show help\n   --version, -v             print the version\n</code></pre><div data-type=\"p\"></div><ol start=\"1\" data-type=\"unordered-list\"><li data-type=\"list-item\" data-list-type=\"unordered-list\"><div data-type=\"p\">从你的<a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://lark.alipay.com/settings/privateToken\" class=\"bi-link\">语雀个人设置页面</a>找到 <code>TOKEN</code> 信息。</div></li><li data-type=\"list-item\" data-list-type=\"unordered-list\"><div data-type=\"p\">在语雀上手工创建好一个空的仓库，用于接收导入的数据。</div></li></ol><div data-type=\"p\"></div><h3 id=\"pi8aui\" data-type=\"h\"><a class=\"anchor\" id=\"迁移-gitbook\" href=\"#pi8aui\"></a>迁移 GitBook</h3><div data-type=\"p\"></div><pre data-syntax=\"bash\"><code class=\"language-bash\">$ gitbook2lark -t &quot;kskskks&quot; -s https://github.com/KaiserY/rust-book-chinese.git -o lark/rust-book-chinese\n</code></pre><div data-type=\"p\"></div><div data-type=\"p\">然后就会开始导入了。</div><div data-type=\"p\"></div><h3 id=\"rwoduq\" data-type=\"h\"><a class=\"anchor\" id=\"迁移-gitlab-github-wiki\" href=\"#rwoduq\"></a>迁移 GitLab / GitHub Wiki</h3><div data-type=\"p\"></div><div data-type=\"p\">自从 0.2.0 版本开始，这个工具也可以支持将 GitLab Wiki 了哦！</div><div data-type=\"p\"></div><div data-type=\"p\">以这个仓库为例：</div><div data-type=\"p\"></div><ul data-type=\"unordered-list\"><li data-type=\"list-item\" data-list-type=\"unordered-list\"><div data-type=\"p\"><a target=\"_blank\" rel=\"noopener noreferrer nofollow\" href=\"https://github.com/moby/moby/wiki\" class=\"bi-link\">https://github.com/moby/moby/wiki</a></div></li></ul><div data-type=\"p\"></div><div data-type=\"p\">打开上面的链接，你可以看到:</div><div data-type=\"p\"></div><div data-type=\"p\"><div data-type=\"image\" data-display=\"block\" data-align=\"left\" data-src=\"https://lark-assets-prod.oss-cn-hangzhou.aliyuncs.com/2018/png/f6ad6292-bace-4eaa-8a52-7506e7241ba8.png\" data-width=\"510\"><img src=\"https://lark-assets-prod.oss-cn-hangzhou.aliyuncs.com/2018/png/f6ad6292-bace-4eaa-8a52-7506e7241ba8.png\" width=\"510\"/></div></div><div data-type=\"p\"></div><div data-type=\"p\"></div><div data-type=\"p\"></div><div data-type=\"p\">然后我们可以:</div><div data-type=\"p\"></div><pre data-syntax=\"bash\"><code class=\"language-bash\">$ gitbook2lark -t &quot;kskskks&quot; -s https://github.com/moby/moby.wiki.git -o moby/moby-wiki\n</code></pre><div data-type=\"p\"></div><h2 id=\"cq2pox\" data-type=\"h\"><a class=\"anchor\" id=\"升级\" href=\"#cq2pox\"></a>升级</h2><div data-type=\"p\"></div><div data-type=\"p\">我们可能会持续优化这个工具，你只需要执行 <code>brew upgrade</code> 就可以升级到最新版本。</div><div data-type=\"p\"></div><pre data-syntax=\"bash\"><code class=\"language-bash\">$ brew upgrade gitbook2lark\n</code></pre><div data-type=\"p\"></div><h2 id=\"u9geum\" data-type=\"h\"><a class=\"anchor\" id=\"更新历史\" href=\"#u9geum\"></a>更新历史</h2><h3 id=\"6cnktx\" data-type=\"h\"><a class=\"anchor\" id=\"0.4.3\" href=\"#6cnktx\"></a>0.4.3</h3><div data-type=\"p\"></div><ul data-type=\"unordered-list\"><li data-type=\"list-item\" data-list-type=\"unordered-list\"><div data-type=\"p\">改进 <code>--output</code> 参数，对各种形式的输入方式做兼容，避免出错；</div></li></ul><div data-type=\"p\"></div><h3 id=\"60nduc\" data-type=\"h\"><a class=\"anchor\" id=\"0.4.1\" href=\"#60nduc\"></a>0.4.1</h3><div data-type=\"p\"></div><ul data-type=\"unordered-list\"><li data-type=\"list-item\" data-list-type=\"unordered-list\"><div data-type=\"p\">修正 <code>--host</code> 参数不是 HTTPS 协议导致的一系列错误信息， 并自动修正非 HTTPS 的请求；</div></li><li data-type=\"list-item\" data-list-type=\"unordered-list\"><div data-type=\"p\">默认 <span data-type=\"color\" style=\"color:rgb(89, 89, 89)\"><span data-type=\"background\" style=\"background-color:rgb(250, 250, 250)\"><code>--host</code></span></span> 改为 https://yuque.com</div></li></ul><div data-type=\"p\"></div><h3 id=\"lctzno\" data-type=\"h\"><a class=\"anchor\" id=\"0.4.0\" href=\"#lctzno\"></a>0.4.0</h3><div data-type=\"p\"></div><ul data-type=\"unordered-list\"><li data-type=\"list-item\" data-list-type=\"unordered-list\"><div data-type=\"p\">导入的时候会转换文档正文内指向其他内容的链接（相对链接）到正确的路径；</div></li><li data-type=\"list-item\" data-list-type=\"unordered-list\"><div data-type=\"p\">当发现知识库不存在时，将会自动创建；</div></li><li data-type=\"list-item\" data-list-type=\"unordered-list\"><div data-type=\"p\">当 Token 不正确的时候给出提示信息；</div></li><li data-type=\"list-item\" data-list-type=\"unordered-list\"><div data-type=\"p\">改进其他错误提示信息；</div></li></ul><div data-type=\"p\"></div><h3 id=\"7b28pm\" data-type=\"h\"><a class=\"anchor\" id=\"0.3.1\" href=\"#7b28pm\"></a>0.3.1</h3><div data-type=\"p\"></div><ul data-type=\"unordered-list\"><li data-type=\"list-item\" data-list-type=\"unordered-list\"><div data-type=\"p\">修正 <code>--host</code> 参数缺少默认值的问题;</div></li></ul><div data-type=\"p\"></div><h3 id=\"wfodul\" data-type=\"h\"><a class=\"anchor\" id=\"0.3.0\" href=\"#wfodul\"></a>0.3.0</h3><div data-type=\"p\"></div><ul data-type=\"unordered-list\"><li data-type=\"list-item\" data-list-type=\"unordered-list\"><div data-type=\"p\">采用 Go 语言重新编写实现，避免环境依赖，开始支持 Windows、Linux 平台；</div></li><li data-type=\"list-item\" data-list-type=\"unordered-list\"><div data-type=\"p\">新增 <code>--host</code> 参数，以支持导入到企业空间域名下；</div></li><li data-type=\"list-item\" data-list-type=\"unordered-list\"><div data-type=\"p\">优化导入过程的打印信息；</div></li></ul><div data-type=\"p\"></div><h3 id=\"r2glek\" data-type=\"h\"><a class=\"anchor\" id=\"0.2.3\" href=\"#r2glek\"></a>0.2.3</h3><div data-type=\"p\"></div><ul data-type=\"unordered-list\"><li data-type=\"list-item\" data-list-type=\"unordered-list\"><div data-type=\"p\">修正文件路径 <code>_</code> 字符被错误替换为 <code>-</code> 的问题。</div></li></ul><div data-type=\"p\"></div><h3 id=\"64t6wb\" data-type=\"h\"><a class=\"anchor\" id=\"0.2.2\" href=\"#64t6wb\"></a>0.2.2</h3><div data-type=\"p\"></div><ul data-type=\"unordered-list\"><li data-type=\"list-item\" data-list-type=\"unordered-list\"><div data-type=\"p\">修正目录里面文档 slug 包含多余的仓库前缀的问题；</div></li><li data-type=\"list-item\" data-list-type=\"unordered-list\"><div data-type=\"p\">不再将目录的缩进替换成 SoftTab，而是保持原有的，例如 Tab；</div></li></ul><div data-type=\"p\"></div><h3 id=\"mhbeme\" data-type=\"h\"><a class=\"anchor\" id=\"0.2.1\" href=\"#mhbeme\"></a>0.2.1</h3><div data-type=\"p\"></div><ul data-type=\"unordered-list\"><li data-type=\"list-item\" data-list-type=\"unordered-list\"><div data-type=\"p\">修正并发的实现，以达到真正并发创建文档，并发数量 50，效率大幅提升.</div></li></ul><div data-type=\"p\"></div><h3 id=\"mmgkao\" data-type=\"h\"><a class=\"anchor\" id=\"0.2.0\" href=\"#mmgkao\"></a>0.2.0</h3><div data-type=\"p\"></div><ul data-type=\"unordered-list\"><li data-type=\"list-item\" data-list-type=\"unordered-list\"><div data-type=\"p\">不再要求必须有 <code>SUMMARY.md</code>，以便于支持 GitLab 的 Wiki 导入；</div></li><li data-type=\"list-item\" data-list-type=\"unordered-list\"><div data-type=\"p\">当 title 无法解析出来的时候，用文件名作为 title；</div></li><li data-type=\"list-item\" data-list-type=\"unordered-list\"><div data-type=\"p\">增加 <code>.markdown</code> 扩展名的支持；</div></li></ul><div data-type=\"p\"></div><h3 id=\"80g0qz\" data-type=\"h\"><a class=\"anchor\" id=\"0.1.2\" href=\"#80g0qz\"></a>0.1.2</h3><div data-type=\"p\"></div><ul data-type=\"unordered-list\"><li data-type=\"list-item\" data-list-type=\"unordered-list\"><div data-type=\"p\">优化标题处理，正文里面去掉 Heading 1。</div></li></ul><div data-type=\"p\"></div><h3 id=\"1ymcay\" data-type=\"h\"><a class=\"anchor\" id=\"0.1.1\" href=\"#1ymcay\"></a>0.1.1</h3><div data-type=\"p\"></div><ul data-type=\"unordered-list\"><li data-type=\"list-item\" data-list-type=\"unordered-list\"><div data-type=\"p\">用并发的方式上传文档，提高导入效率。</div></li><li data-type=\"list-item\" data-list-type=\"unordered-list\"><div data-type=\"p\">执行结果日志输出优化。</div></li></ul><div data-type=\"p\"></div><h3 id=\"du2nuv\" data-type=\"h\"><a class=\"anchor\" id=\"0.1.0\" href=\"#du2nuv\"></a>0.1.0</h3><div data-type=\"p\"></div><ul data-type=\"unordered-list\"><li data-type=\"list-item\" data-list-type=\"unordered-list\"><div data-type=\"p\">First release.</div></li></ul><div data-type=\"p\"></div>"
}